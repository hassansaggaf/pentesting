# How to use Nmap

## Port Scanning

```
# Stealthy
nmap -sS 192.168.1.1

# Scan all ports might take a while
nmap 192.168.1.1 -p-

# Scan for UDP
nmap -sU 192.168.1.1
unicornscan -mU -v -I 192.168.1.1

# Scan for version, with NSE scripts and try to identify OS
nmap -sV -sC -O 192.168.1.1

# All out scan
nmap -vvv -Pn -A -iL listofIP.txt

# Fast Scan
nmap 192.168.1.1 -F

# Only Scan Top 100 Ports
nmap 192.168.1.1 --top-ports 100
```

### Nmap Options

```
# very verbose
-vv 

# Skip ports
-sn
```

### Timing and agressiveness

```
# Paranoid Scan
T0 

# Sneaky Scan
T1

# Polite Scan
T2

# Normal Scan 
T3

# Agressive Scan
T4

# Insane Scan
T5

#example

nmap -T5 192.168.1.1
```
### What to do...

Now that you have gathered some IP addresses from your subdomain discovery it is time to scan them. You can copy-paste those IPs
into a file line by line. Then you scan them with nmap at the same time.
```
-iL # input list

nmap 192.168.1.1 -iL listofip.txt
```

## How a TCP-connect scan works

When one machine initiates a connection with another machine using the **transmission-control-protocol (TCP)** it performs what 
is known as a three way handshake, this means :

```
SYN = Synchronize
ACK = Acknowledge
```

```
machine1 sends syn packet to machine2
machine2 sends a syn-ack packet to machine1
machine1 sends a ack packet to machine2
```

if machine2 responds with a SYN-ACK packet, we know that the port is open. This is basically what nmap does when it
scans for a port

This is the default mode for Nmap, if know flags were added this is the type of connection it makes

