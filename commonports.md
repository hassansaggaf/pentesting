# Common Ports and How to use them

## Port XXX - Service Unknown

If you have a port open and don't know what services are on them, you can find out by typing the following command
```
amap -d 192.168.1.1 8080
```
## Port 21 FTP

Connect to the  server and enumerate the software/version
```
ftp 192.168.1.1
nc 192.168.1.1 21
```
Some FTP servers allow anonymous users. These might be misconfigured and give to much access and it might be necessary 
for other exploits to work
```
username : anonymous
password : anonymous
```
**Remember the binary and ascii mode!**

If you upload a binary file you have to put the ftp-server in binary mode, otherwise the file will become corrupted and you will
not be able to use it! The same for text-files. Use ascii mode for them! You just write binary and ascii to switch mode.

## Port 22 SSH
Find the version of SSH:
```
nc 192.168.1.1 22

Output : SSH-2.0-OpenSSH_7.2p2 Ubuntu-4ubuntu1
```
### Cracking SSH
```
medusa -h 192.168.1.1 -u Username -P passlist.txt -M ssh

-h is hostname or ip address
-u is username 
-P is password list file
-M is the module name
```

## Port 23 Telnet
Telnet is not considered secure mainly because its traffic is not encrypted

There are various exploits on exploit databases depending on the version

### Brute Forcing Telnet
```
medusa -h 192.168.1.1 -u Username -P passlist.txt -M telnet

hydra -l root -P /path/to/passlist.txt 192.168.1.1 telnet
```

## Port 35 SMTP (Simple Mail Tranfer Protocol)

### Manually  Trying Emails

```
# Connect through telnet

telnet 192.168.1.1 25

# use the VRFY command to verify emails

vrfy root
vrfy admin
vrfy SYS
vrfy administrator
```

### Use SMTP-User-Enum

```
go to Applications -> Information Gathering -> SMTP Analysis -> smtp-user-enum

smtp-user-enum -M VRFY -U userlist.txt -t <target IP>
```
Now that we know what users are on that organization's email server, we can send social engineering emails to them or spoof their email addresses and send social engineering emails to their colleagues.

## Port 53 DNS

[DNS Hijacking Attack](https://www.avg.com/en/signal/what-is-dns-hijacking)
